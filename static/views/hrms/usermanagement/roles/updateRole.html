<div class="row wrapper border-bottom white-bg page-heading">
	<div class="col-lg-10">
		<h2>Roles</h2>
		<ol class="breadcrumb">
			<li><a>User Management</a></li>
			<li><a>Roles</a></li>
			<li class="active"><strong>Update Role</strong></li>
		</ol>
	</div>
	<div class="col-lg-2"></div>
</div>

<div class="wrapper wrapper-content animated fadeInRight">
	<div class="row"
		ng-init="getAllFeatureCategories();getAllFeatureActions(roleDetail.id)">
		<div class="col-lg-12">
			<div class="ibox float-e-margins">
				<div class="ibox-title">
					<h5>Update Role</h5>
				</div>
				<div class="ibox-content">
					<form method="get" class="form-horizontal">
						<div class="form-group">
							<label class="col-sm-2 control-label">Role Name <span
								style="color: red"
								ng-show="roleDetail.name==undefined || roleDetail.name==''">*</span>
							</label>

							<div class="col-sm-4">
								<input type="text" class="form-control"
									ng-model="roleDetail.name" capitalize only-letters-input
									maxlength="35">
							</div>
							<label class="col-sm-2 control-label">Display Name <span
								style="color: red"
								ng-show="roleDetail.displayName==undefined || roleDetail.name==''">*</span>
							</label>

							<div class="col-sm-4">
								<input type="text" class="form-control"
									ng-model="roleDetail.displayName" capitalize-first
									maxlength="35">
							</div>
						</div>
					</form>
				</div>
				<div class="ibox-title">
					<h5>Select Feature</h5>
				</div>
				<div class="ibox-content">
					<form method="get" class="form-horizontal">
						<div class="form-group">
							<label class="col-sm-2 control-label">Feature Category <span
								style="color: red"
								ng-show="featureCategory==undefined ||featureCategory==''">*</span>
							</label>

							<div class="col-sm-4">
								<select class="form-control" ng-model="featureCategory"
									ng-options="featureCategory as featureCategory.name for featureCategory in featureCategoryList"><option
										value="">select</option></select>
							</div>
							<label class="col-sm-1 control-label">Feature<span
								style="color: red" ng-show="feature==undefined ||feature==''">*</span>
							</label>

							<div class="col-sm-4">
								<select class="form-control" ng-model="feature"
									ng-options="feature as feature.name for feature in featureCategory.features"><option
										value="">select</option></select>
							</div>
							<div class="col-sm-1">
								<button class="btn btn-primary" ng-click="addFeatureInUpdate()">Add</button>
							</div>
						</div>
					</form>
				</div>
				<div class="ibox-content">
					<div class="table-responsive">
						<table datatable="ng" dt-options="dtOptions"
							class="table table-striped table-hover">
							<thead>
								<tr>
									<!-- <th>Select</th> -->
									<th>S.No</th>
									<th>Feature</th>
									<th>Description</th>
									<th>Create</th>
									<th>Delete</th>
									<th>View</th>
									<th>Update</th>
									<th>Action</th>
								</tr>
							</thead>
							<tbody>
								<tr class="text-center" ng-hide="dataLoaded">
									<i class="fa fa-spinner fa-spin"></i>
								</tr>
								<tr ng-repeat="featureAction in featureActionsList">
									<!-- <td><input type="checkbox" ng-click="toggleAll()" ng-model="isAllSelected"></td> -->
									<td>{{$index+1}}</td>
									<td>{{featureAction.feature.name}}</td>
									<td>{{featureAction.feature.description}}</td>
									<td><input type="checkbox" class="" placeholder=""
										ng-model="featureAction.createAction"
										ng-change="optionToggled()" letters-only></td>
									<td><input type="checkbox" class="" placeholder=""
										ng-model="featureAction.deleteAction" letters-only></td>
									<td><input type="checkbox" class="" placeholder=""
										ng-model="featureAction.viewAction" letters-only></td>
									<td><input type="checkbox" class="" placeholder=""
										ng-model="featureAction.updateAction" letters-only></td>

									<td>
										<button class="btn btn-danger"
											ng-click="deleteFeatureActionInupdate($index)"
											data-toggle="tooltip" tooltip-placement="bottom"
											tooltip="Delete" title="Delete">
											<span class="glyphicon glyphicon-trash"></span>
										</button>
									</td>


								</tr>
							</tbody>
						</table>
					</div>
					<div class="form-group">
						<div class="col-sm-4 col-sm-offset-2">
							<button class="btn btn-primary"
								ng-disabled="!roleDetail.name||!roleDetail.displayName||roleDetail.featureActions.length==0"
								ng-click="updateRole(roleDetail)">Save</button>
							<button class="btn btn-danger" ng-click="gotoRoleList()">Cancel</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
